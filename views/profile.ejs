<%- include('partials/header') %>

<div class="container mt-5" style="max-width: 650px; border: 1px solid #ddd; padding: 25px; border-radius: 12px; background: #fafafa;">

  <!-- PROFILE HEADER -->
  <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">

    <!-- DP Space -->
    <div style="
            width: 110px; 
            height: 110px; 
            background: #e0e0e0; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            overflow: hidden;
        ">
      <!-- If you later add real DP -->
      <% if (user.profilePic) { %>
      <img src="<%= user.profilePic %>" style="width: 100%; height: 100%; object-fit: cover;">
      <% } else { %>
      <span style="font-size: 45px; color: #666;">ðŸ‘¤</span>
      <% } %>
    </div>

    <!-- User Info -->
    <div style="flex: 1;">
      <h2 style="margin: 0; font-size: 28px;"><%= user.username %></h2>

      <!-- FOLLOW BUTTON -->
      <div style="margin-top: 8px;">
        <%- include('partials/followButton', { author: user, currentUser: currentUser }) %>
      </div>

      <!-- COUNTS -->
      <div style="margin-top: 12px; font-size: 16px; display: flex; gap: 20px;">
        <p><strong>Followers:</strong>
          <span id="followersCount"><%= user.followers.length %></span>
        </p>
        <p><strong>Following:</strong>
          <span id="followingCount"><%= user.following.length %></span>
        </p>
      </div>
    </div>

  </div>

  <hr>

  <!-- OTHER DETAILS -->
  <p style="font-size: 17px;">
    <strong>Email:</strong> <%= user.email %>
  </p>

  <button class="btn btn-info" style="margin-top: 10px;">
    <a href="/posts/user/<%= user.username %>" style="color: white; text-decoration: none;">View Posts</a>
  </button>

</div>

<%- include('partials/footer') %>